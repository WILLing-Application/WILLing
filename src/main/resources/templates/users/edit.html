<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="en">
<head th:replace="partials/head :: header-links ('Edit Profile')"></head>
<body>
<div id="pre-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <span>DIVIDE YOUR BELONGINGS WITH US!</span>
            </div>
        </div>
    </div>
</div>
<div th:replace="partials/navbar :: navbar"></div>

<!--Forcing some space since text currently overlaps the navbar items-->
<br><br><br>

<div class="container">
    <!-- This content is only shown to authenticated users.-->
    <div class="row" sec:authorize="isAuthenticated()">
        <div>
<!-- USER PROFILE PHOTO-->
            <div>
                <!-- Display user profile photo, if it has been uploaded -->
                <div th:if="${hasPhoto}">
                    <img th:src="${user.profilePhoto}" class="rounded-circle img-responsive m-2"
                         height="120" width="120" alt="profile-photo">
                </div>
                <!-- Display placeholder image if user profile photo does not exist -->
                <div th:if="${noPhoto}">
                    <img th:src="${placeholder}" class="rounded-circle img-responsive m-2"
                         width="100">
                </div>
            </div>

            <form th:action="@{/profile/{id}/edit}" th:method="post">
                <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" id="firstName" name="firstName" class="form-control"
                           th:field="*{user.firstName}"
                           th:value="*{user.firstName}" th:maxlength="60" th:required th:autofocus />
                </div>
                <div class="form-group">
                    <label for="lastName">Last Name</label>
                    <input type="text" id="lastName" name="lastName" class="form-control" th:field="*{user.lastName}"
                           th:value="*{user.lastName}" th:maxlength="60" th:required />
                </div>
                <div class="form-group">
                    <label for="address1">Address</label>
                    <input type="text" id="address1" name="address1" class="form-control" th:field="*{user.address1}"
                           th:value="*{user.address1}" th:maxlength="60" th:required />
                </div>
                <div class="form-group">
                    <label for="address2">Address</label>
                    <input type="text" id="address2" name="address2" class="form-control" th:field="*{user.address2}"
                           th:value="*{user.address2}" th:maxlength="60">
                </div>
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" id="city" name="city" class="form-control" th:field="*{user.city}"
                           th:value="*{user.city}" th:maxlength="60" th:required>
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <input type="text" id="state" name="state" class="form-control" th:field="*{user.state}"
                           th:value="*{user.state}" th:maxlength="2" th:required>
                </div>
                <div class="form-group">
                    <label for="zip">Zip</label>
                    <input type="tel" id="zip" name="zip" class="form-control" th:field="*{user.zip}"
                           th:value="*{user.zip}" th:maxlength="10" th:required>
                </div>
                <div class="form-group">
                    Phone
                    <input type="tel" id="phone" name="phone" class="form-control" th:field="*{user.phone}"
                           th:value="*{user.phone}" th:maxlength="20" th:required>
                </div>
                <input type="hidden" th:name="edit-user" th:value="${user.id}">
                <input type="hidden" id="images" name="images" value="">
                <input type="hidden" id="file-type" name="file-type" value="">
                <div class="form-group">
                    Upload Profile Photo
                    <!-- Upload user profile photo -->
                    <div id="files"></div>
                    <button id="upload" class="btn btn-muted btn-sm mb-2">Upload image</button>
                </div>
                <button type="submit" class="btn btn-primary btn-sm btn-block">Save</button>
            </form>

        </div>
    </div>
</div>

<div th:replace="partials/scripts :: assets"></div>
</body>
<footer th:replace="partials/footer :: footer"/>
</html>